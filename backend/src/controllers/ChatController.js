const a14_0x5cce0a=a14_0x3802;function a14_0x2f1d(){const _0x2570ab=['ice/Create','../models/','uOFPj','../libs/so','meAKu','JBIkU','toString','kCLMM','sIZwJ','raAnq','vhCsM','AuQpt','AoEwk','65403SVpxcz','model','include','Chat\x20delet','uKgIw','log','YwHLr','ZHeiw','MessageSer','rpdOM','ctor(\x22retu','delete','params','gsYnv','pBtbq','Service','lodash','findByPk','PmjZq','pCxeK','length','typeFile','nction()\x20','search','581632wIGAwB','s/ChatServ','query','index','BIBGW','defineProp','companyId','{}.constru','zhtGp','10AasLPG','ice/Update','lUHcM','EINGV','Xynxe','warn','prototype','records','erty','IsTYF','hUIsk','newMessage','remove','tlzge','record','new-messag','filename','pageNumber','ice/FindMe','mmGvZ','__proto__','vice','fault','-chat-','ZeAbv','kaVxw','show','mediaPath','default','apply','CcYgz','hasMore','zYLkz','emit','BHYqd','izrby','gnkrM','senderId','head','ice/ListSe','4377850iGRnKf','ikQce','nOLZf','23420HZtgCS','error','woqDU','wsTlG','files','OiEsO','ownerId','81PrbJeQ','ice/Delete','originalna','create','1824294oiRcgQ','message','update','-chat','messages','bind','checkAsRea','uTQnN','../service','hAUVg','ErInW','zUcqH','bgDwa','chatId','ice','value','company-','7NJnnUi','242UTWRlE','findOne','332892OggXUn','cket','unreads','(((.+)+)+)','lUWtL','where','chat','BhOph','count','psaRC','__esModule','nYUXP','rvice','constructo','uQnSs','vDpJa','rn\x20this\x22)(','action','vFTZQ','mediaName','console','body','236bFmFfJ','mimetype','ChatUser','GyQck','Gdacj','-chat-user','531564hKKWvW','userId','VSPUZ','ice/ShowFr','Chat','xfMJs','NozSz','dFJwC','fcwos','bZGPv','ZGhGo','owner','user','UTLqh','table','TYnYV','NOpqB','ZRBNu','omUuidServ','User','store','jZZUW','IWkuG','UQRcK','cyvMR','status','trace','IrDpc','return\x20(fu','users','__importDe','exception','info','getIO','json','saveMessag','vQYUA','forEach','jNAdS','ssages'];a14_0x2f1d=function(){return _0x2570ab;};return a14_0x2f1d();}(function(_0x4575e0,_0x34a36d){const _0x5ba0b0=a14_0x3802,_0x5117dd=_0x4575e0();while(!![]){try{const _0xeaa932=parseInt(_0x5ba0b0(0xf8))/(0x3*0x115+0x249d+0x219*-0x13)+parseInt(_0x5ba0b0(0x119))/(0x2*-0x2d+0xff6+-0xf9a)*(parseInt(_0x5ba0b0(0xa7))/(-0x1*-0x245f+0x3*-0x106+-0x214a))+-parseInt(_0x5ba0b0(0xbd))/(-0xdd7+0x25ad+0x17d2*-0x1)*(-parseInt(_0x5ba0b0(0x88))/(-0x2569*0x1+0x1f3*0x1+0x237b))+parseInt(_0x5ba0b0(0x93))/(-0x6f*0x59+-0x1c*0x51+0x2f79)*(parseInt(_0x5ba0b0(0xa4))/(0x6e0+-0x13c3*-0x1+-0x1a9c))+-parseInt(_0x5ba0b0(0x110))/(0x6*0x20c+-0x12a*-0x12+0x352*-0xa)*(-parseInt(_0x5ba0b0(0x8f))/(0x1a6e+-0x258c+0x5*0x23b))+-parseInt(_0x5ba0b0(0x85))/(0x4*-0x16d+0x9a5*-0x2+0x1908)+-parseInt(_0x5ba0b0(0xa5))/(0x195b+-0x10d6+0x3e*-0x23)*(parseInt(_0x5ba0b0(0xc3))/(0x27*0x2f+0x1*-0x1553+0xe36));if(_0xeaa932===_0x34a36d)break;else _0x5117dd['push'](_0x5117dd['shift']());}catch(_0x242367){_0x5117dd['push'](_0x5117dd['shift']());}}}(a14_0x2f1d,0x4*0x26f5d+0x66e5b+-0x96aba));const a14_0x56c225=(function(){const _0x1bb8f1=a14_0x3802,_0x18d0f7={};_0x18d0f7[_0x1bb8f1(0x75)]=_0x1bb8f1(0x95),_0x18d0f7[_0x1bb8f1(0xae)]=function(_0x57caf3,_0x1b3246){return _0x57caf3===_0x1b3246;},_0x18d0f7[_0x1bb8f1(0xf5)]=_0x1bb8f1(0xb0),_0x18d0f7[_0x1bb8f1(0x123)]=_0x1bb8f1(0xc8),_0x18d0f7[_0x1bb8f1(0x8b)]=function(_0x1363bc,_0x1954d3){return _0x1363bc!==_0x1954d3;},_0x18d0f7[_0x1bb8f1(0x76)]=_0x1bb8f1(0x101),_0x18d0f7[_0x1bb8f1(0x7d)]=_0x1bb8f1(0x70),_0x18d0f7[_0x1bb8f1(0x9d)]=function(_0x44f0ac,_0x354314){return _0x44f0ac===_0x354314;},_0x18d0f7[_0x1bb8f1(0xff)]=_0x1bb8f1(0xe7);const _0x4b0231=_0x18d0f7;let _0x588f52=!![];return function(_0x32131a,_0x4f0313){const _0x3fadff=_0x1bb8f1,_0x2dd0ea={'UTLqh':_0x4b0231[_0x3fadff(0x75)],'JBIkU':function(_0x583f38,_0x82a8f6){const _0x5bbe9a=_0x3fadff;return _0x4b0231[_0x5bbe9a(0xae)](_0x583f38,_0x82a8f6);},'Xynxe':_0x4b0231[_0x3fadff(0xf5)],'pCxeK':_0x4b0231[_0x3fadff(0x123)],'EINGV':function(_0x30dd00,_0x58dc72){const _0x1a8e9c=_0x3fadff;return _0x4b0231[_0x1a8e9c(0x8b)](_0x30dd00,_0x58dc72);},'gsYnv':_0x4b0231[_0x3fadff(0x76)],'zUcqH':_0x4b0231[_0x3fadff(0x7d)]};if(_0x4b0231[_0x3fadff(0x9d)](_0x4b0231[_0x3fadff(0xff)],_0x4b0231[_0x3fadff(0xff)])){const _0x303fb1=_0x588f52?function(){const _0x315c4d=_0x3fadff,_0xff47fa={};_0xff47fa[_0x315c4d(0xf6)]=_0x2dd0ea[_0x315c4d(0xd0)];const _0x4fe0e5=_0xff47fa;if(_0x2dd0ea[_0x315c4d(0xf0)](_0x2dd0ea[_0x315c4d(0x11d)],_0x2dd0ea[_0x315c4d(0x10b)])){const _0x41e9f5={};_0x41e9f5[_0x315c4d(0xb8)]=_0x4fe0e5[_0x315c4d(0xf6)],_0x41e9f5[_0x315c4d(0x6b)]=_0x2062fb,_0x1c72e6[_0x315c4d(0x7e)](_0x315c4d(0xa3)+_0x1a8ce7+(_0x315c4d(0xc2)+'-')+_0x239f09[_0x315c4d(0xc4)],_0x41e9f5);}else{if(_0x4f0313){if(_0x2dd0ea[_0x315c4d(0x11c)](_0x2dd0ea[_0x315c4d(0x105)],_0x2dd0ea[_0x315c4d(0x9e)])){const _0x403642=_0x4f0313[_0x315c4d(0x7a)](_0x32131a,arguments);return _0x4f0313=null,_0x403642;}else _0x3343d8=_0x59c809;}}}:function(){};return _0x588f52=![],_0x303fb1;}else{const _0x40d85d={};return _0x40d85d[_0x3fadff(0x79)]=_0x223a24,_0x5993bb&&_0xc27c72[_0x3fadff(0xb1)]?_0x5e07f4:_0x40d85d;}};}()),a14_0x2e771e=a14_0x56c225(this,function(){const _0x41396e=a14_0x3802,_0x33bde3={};_0x33bde3[_0x41396e(0xb6)]=_0x41396e(0xaa)+'+$';const _0xdd283b=_0x33bde3;return a14_0x2e771e[_0x41396e(0xf1)]()[_0x41396e(0x10f)](_0xdd283b[_0x41396e(0xb6)])[_0x41396e(0xf1)]()[_0x41396e(0xb4)+'r'](a14_0x2e771e)[_0x41396e(0x10f)](_0xdd283b[_0x41396e(0xb6)]);});a14_0x2e771e();const a14_0x265586=(function(){const _0x2a747e=a14_0x3802,_0x1796b4={};_0x1796b4[_0x2a747e(0xc5)]=function(_0x480d35,_0x546ff2){return _0x480d35!==_0x546ff2;},_0x1796b4[_0x2a747e(0x6a)]=_0x2a747e(0xfe),_0x1796b4[_0x2a747e(0xf2)]=_0x2a747e(0xf3);const _0x31b1e8=_0x1796b4;let _0x470123=!![];return function(_0x3edfd5,_0xac461c){const _0x31bd28=_0x2a747e,_0x4ff606={'CcYgz':function(_0x2072a4,_0x1cbe09){const _0x58b84f=a14_0x3802;return _0x31b1e8[_0x58b84f(0xc5)](_0x2072a4,_0x1cbe09);},'meAKu':_0x31b1e8[_0x31bd28(0x6a)],'jNAdS':_0x31b1e8[_0x31bd28(0xf2)]},_0x568dba=_0x470123?function(){const _0x4f04ff=_0x31bd28;if(_0xac461c){if(_0x4ff606[_0x4f04ff(0x7b)](_0x4ff606[_0x4f04ff(0xef)],_0x4ff606[_0x4f04ff(0xe9)])){const _0x282249=_0xac461c[_0x4f04ff(0x7a)](_0x3edfd5,arguments);return _0xac461c=null,_0x282249;}else{if(_0x41b9f5){const _0x76537f=_0x1218e4[_0x4f04ff(0x7a)](_0x1c37fc,arguments);return _0x4d2608=null,_0x76537f;}}}}:function(){};return _0x470123=![],_0x568dba;};}()),a14_0x584d5d=a14_0x265586(this,function(){const _0x21d42f=a14_0x3802,_0x38b157={'TYnYV':_0x21d42f(0x92),'woqDU':function(_0x549d62,_0x130fb4){return _0x549d62!==_0x130fb4;},'lUWtL':_0x21d42f(0xcb),'lUHcM':_0x21d42f(0x9f),'uTQnN':function(_0x202ea0,_0x42a9b4){return _0x202ea0===_0x42a9b4;},'nOLZf':_0x21d42f(0x80),'zhtGp':_0x21d42f(0x86),'cyvMR':function(_0xbff85,_0x23fb9c){return _0xbff85(_0x23fb9c);},'ZRBNu':function(_0xd24a09,_0x1773b0){return _0xd24a09+_0x1773b0;},'bZGPv':_0x21d42f(0xdf)+_0x21d42f(0x10e),'uOFPj':_0x21d42f(0x117)+_0x21d42f(0x102)+_0x21d42f(0xb7)+'\x20)','ZGhGo':_0x21d42f(0xb9),'AoEwk':function(_0x193c8d){return _0x193c8d();},'nYUXP':_0x21d42f(0xfd),'GyQck':_0x21d42f(0x11e),'UQRcK':_0x21d42f(0xe3),'PmjZq':_0x21d42f(0x89),'NozSz':_0x21d42f(0xe2),'pBtbq':_0x21d42f(0xd1),'OiEsO':_0x21d42f(0xdd),'dFJwC':function(_0x30fbc1,_0x2f95b6){return _0x30fbc1<_0x2f95b6;},'IsTYF':_0x21d42f(0xd9)},_0x426d55=function(){const _0x3ec6c5=_0x21d42f,_0x2ba4cc={};_0x2ba4cc[_0x3ec6c5(0x9c)]=_0x38b157[_0x3ec6c5(0xd2)];const _0x575f34=_0x2ba4cc;if(_0x38b157[_0x3ec6c5(0x8a)](_0x38b157[_0x3ec6c5(0xab)],_0x38b157[_0x3ec6c5(0x11b)])){let _0x5aee85;try{if(_0x38b157[_0x3ec6c5(0x9a)](_0x38b157[_0x3ec6c5(0x87)],_0x38b157[_0x3ec6c5(0x118)])){const _0x3924f1={};_0x3924f1[_0x3ec6c5(0xb8)]=_0x575f34[_0x3ec6c5(0x9c)],_0x3924f1[_0x3ec6c5(0x6b)]=_0x382651,_0x3d33f5[_0x3ec6c5(0x7e)](_0x3ec6c5(0xa3)+_0x1d39b3+(_0x3ec6c5(0xc2)+'-')+_0x4abc4a[_0x3ec6c5(0xc4)],_0x3924f1);}else _0x5aee85=_0x38b157[_0x3ec6c5(0xdb)](Function,_0x38b157[_0x3ec6c5(0xd4)](_0x38b157[_0x3ec6c5(0xd4)](_0x38b157[_0x3ec6c5(0xcc)],_0x38b157[_0x3ec6c5(0xed)]),');'))();}catch(_0x3efe3b){if(_0x38b157[_0x3ec6c5(0x9a)](_0x38b157[_0x3ec6c5(0xcd)],_0x38b157[_0x3ec6c5(0xcd)]))_0x5aee85=window;else{if(_0x4cd7a3){const _0x15ccec=_0xcdd9db[_0x3ec6c5(0x7a)](_0x101cd1,arguments);return _0x1f6c0c=null,_0x15ccec;}}}return _0x5aee85;}else{const _0x451656=_0x3df077?function(){const _0x19f9af=_0x3ec6c5;if(_0x5c7abe){const _0x483f05=_0x31922f[_0x19f9af(0x7a)](_0x4bea64,arguments);return _0x42cc56=null,_0x483f05;}}:function(){};return _0x21ebfc=![],_0x451656;}},_0x346687=_0x38b157[_0x21d42f(0xf7)](_0x426d55),_0x157114=_0x346687[_0x21d42f(0xbb)]=_0x346687[_0x21d42f(0xbb)]||{},_0x1b0dac=[_0x38b157[_0x21d42f(0xb2)],_0x38b157[_0x21d42f(0xc0)],_0x38b157[_0x21d42f(0xda)],_0x38b157[_0x21d42f(0x10a)],_0x38b157[_0x21d42f(0xc9)],_0x38b157[_0x21d42f(0x106)],_0x38b157[_0x21d42f(0x8d)]];for(let _0xe2502f=-0x5bb*-0x2+-0x1f*-0xb+0x1*-0xccb;_0x38b157[_0x21d42f(0xca)](_0xe2502f,_0x1b0dac[_0x21d42f(0x10c)]);_0xe2502f++){if(_0x38b157[_0x21d42f(0x9a)](_0x38b157[_0x21d42f(0x122)],_0x38b157[_0x21d42f(0x122)])){const _0xee9f58=a14_0x265586[_0x21d42f(0xb4)+'r'][_0x21d42f(0x11f)][_0x21d42f(0x98)](a14_0x265586),_0x288385=_0x1b0dac[_0xe2502f],_0x5e4a82=_0x157114[_0x288385]||_0xee9f58;_0xee9f58[_0x21d42f(0x71)]=a14_0x265586[_0x21d42f(0x98)](a14_0x265586),_0xee9f58[_0x21d42f(0xf1)]=_0x5e4a82[_0x21d42f(0xf1)][_0x21d42f(0x98)](_0x5e4a82),_0x157114[_0x288385]=_0xee9f58;}else{const _0x3b3ae3=_0x9bdefc[_0x21d42f(0x7a)](_0x128fa9,arguments);return _0x2b4198=null,_0x3b3ae3;}}});a14_0x584d5d();'use strict';var __importDefault=this&&this[a14_0x5cce0a(0xe1)+a14_0x5cce0a(0x73)]||function(_0xb4bbf0){const _0x23de7f=a14_0x5cce0a;return _0xb4bbf0&&_0xb4bbf0[_0x23de7f(0xb1)]?_0xb4bbf0:{'default':_0xb4bbf0};};const a14_0x21bd4a={};a14_0x21bd4a[a14_0x5cce0a(0xa2)]=!![],Object[a14_0x5cce0a(0x115)+a14_0x5cce0a(0x121)](exports,a14_0x5cce0a(0xb1),a14_0x21bd4a),exports[a14_0x5cce0a(0x97)]=exports[a14_0x5cce0a(0x99)+'d']=exports[a14_0x5cce0a(0xe6)+'e']=exports[a14_0x5cce0a(0x125)]=exports[a14_0x5cce0a(0x77)]=exports[a14_0x5cce0a(0x95)]=exports[a14_0x5cce0a(0xd7)]=exports[a14_0x5cce0a(0x113)]=void(0x16b3+0x79*-0x47+0xadc);const socket_1=require(a14_0x5cce0a(0xee)+a14_0x5cce0a(0xa8)),CreateService_1=__importDefault(require(a14_0x5cce0a(0x9b)+a14_0x5cce0a(0x111)+a14_0x5cce0a(0xeb)+a14_0x5cce0a(0x107))),ListService_1=__importDefault(require(a14_0x5cce0a(0x9b)+a14_0x5cce0a(0x111)+a14_0x5cce0a(0x84)+a14_0x5cce0a(0xb3))),ShowFromUuidService_1=__importDefault(require(a14_0x5cce0a(0x9b)+a14_0x5cce0a(0x111)+a14_0x5cce0a(0xc6)+a14_0x5cce0a(0xd5)+a14_0x5cce0a(0xa1))),DeleteService_1=__importDefault(require(a14_0x5cce0a(0x9b)+a14_0x5cce0a(0x111)+a14_0x5cce0a(0x90)+a14_0x5cce0a(0x107))),FindMessages_1=__importDefault(require(a14_0x5cce0a(0x9b)+a14_0x5cce0a(0x111)+a14_0x5cce0a(0x6f)+a14_0x5cce0a(0xea))),UpdateService_1=__importDefault(require(a14_0x5cce0a(0x9b)+a14_0x5cce0a(0x111)+a14_0x5cce0a(0x11a)+a14_0x5cce0a(0x107))),lodash_1=require(a14_0x5cce0a(0x108)),Chat_1=__importDefault(require(a14_0x5cce0a(0xec)+a14_0x5cce0a(0xc7))),User_1=__importDefault(require(a14_0x5cce0a(0xec)+a14_0x5cce0a(0xd6))),ChatUser_1=__importDefault(require(a14_0x5cce0a(0xec)+a14_0x5cce0a(0xbf))),CreateMessageService_1=__importDefault(require(a14_0x5cce0a(0x9b)+a14_0x5cce0a(0x111)+a14_0x5cce0a(0xeb)+a14_0x5cce0a(0x100)+a14_0x5cce0a(0x72))),index=async(_0x45a7ab,_0x5a9c7e)=>{const _0x11b9df=a14_0x5cce0a,{pageNumber:_0x5dc119}=_0x45a7ab[_0x11b9df(0x112)],_0x1ee6ab=+_0x45a7ab[_0x11b9df(0xcf)]['id'],_0x2c4a9c={};_0x2c4a9c[_0x11b9df(0x8e)]=_0x1ee6ab,_0x2c4a9c[_0x11b9df(0x6e)]=_0x5dc119;const {records:_0x3bf73b,count:_0x2193cc,hasMore:_0x5da334}=await(-0x25f8+-0x108f+0x1*0x3687,ListService_1[_0x11b9df(0x79)])(_0x2c4a9c),_0xdfdc4b={};return _0xdfdc4b[_0x11b9df(0x120)]=_0x3bf73b,_0xdfdc4b[_0x11b9df(0xaf)]=_0x2193cc,_0xdfdc4b[_0x11b9df(0x7c)]=_0x5da334,_0x5a9c7e[_0x11b9df(0xe5)](_0xdfdc4b);};exports[a14_0x5cce0a(0x113)]=index;const store=async(_0x15f505,_0x5e0a4d)=>{const _0x50e5d2=a14_0x5cce0a,_0x326441={};_0x326441[_0x50e5d2(0x81)]=_0x50e5d2(0x92);const _0x416fbd=_0x326441,{companyId:_0x4f2f7a}=_0x15f505[_0x50e5d2(0xcf)],_0x5ddb51=+_0x15f505[_0x50e5d2(0xcf)]['id'],_0x2d7fc9=_0x15f505[_0x50e5d2(0xbc)],_0x4bb1e7={..._0x2d7fc9};_0x4bb1e7[_0x50e5d2(0x8e)]=_0x5ddb51,_0x4bb1e7[_0x50e5d2(0x116)]=_0x4f2f7a;const _0x35a095=await(0x1c7e+0x1*0x1c3a+0x3*-0x12e8,CreateService_1[_0x50e5d2(0x79)])(_0x4bb1e7),_0x50d859=(0x16*0xbb+0x25e5+0x11fd*-0x3,socket_1[_0x50e5d2(0xe4)])();return _0x35a095[_0x50e5d2(0xe0)][_0x50e5d2(0xe8)](_0x92cc15=>{const _0x37c55c=_0x50e5d2,_0x441092={};_0x441092[_0x37c55c(0xb8)]=_0x416fbd[_0x37c55c(0x81)],_0x441092[_0x37c55c(0x6b)]=_0x35a095,_0x50d859[_0x37c55c(0x7e)](_0x37c55c(0xa3)+_0x4f2f7a+(_0x37c55c(0xc2)+'-')+_0x92cc15[_0x37c55c(0xc4)],_0x441092);}),_0x5e0a4d[_0x50e5d2(0xdc)](-0x13e*-0x7+0x2299+-0x2a83*0x1)[_0x50e5d2(0xe5)](_0x35a095);};exports[a14_0x5cce0a(0xd7)]=store;function a14_0x3802(_0x2e771e,_0x56c225){const _0x2f1d7c=a14_0x2f1d();return a14_0x3802=function(_0x38026d,_0x3d41da){_0x38026d=_0x38026d-(0xc66+-0x1b1f*0x1+0x1f*0x7d);let _0x404d96=_0x2f1d7c[_0x38026d];return _0x404d96;},a14_0x3802(_0x2e771e,_0x56c225);}const update=async(_0x51f0c3,_0x1b0c79)=>{const _0x1f1ed8=a14_0x5cce0a,_0x40bf16={};_0x40bf16[_0x1f1ed8(0xf4)]=_0x1f1ed8(0x95);const _0x468ad1=_0x40bf16,{companyId:_0x3a6926}=_0x51f0c3[_0x1f1ed8(0xcf)],_0xbd2d6f=_0x51f0c3[_0x1f1ed8(0xbc)],{id:_0x58d879}=_0x51f0c3[_0x1f1ed8(0x104)],_0x59089c={..._0xbd2d6f};_0x59089c['id']=+_0x58d879;const _0x1d1c8a=await(0x1*-0xebb+0x2150+-0x47*0x43,UpdateService_1[_0x1f1ed8(0x79)])(_0x59089c),_0x52c660=(-0x1f9a+0x1*0x153c+-0x52f*-0x2,socket_1[_0x1f1ed8(0xe4)])();return _0x1d1c8a[_0x1f1ed8(0xe0)][_0x1f1ed8(0xe8)](_0xd54c99=>{const _0x274e26=_0x1f1ed8,_0x297a6c={};_0x297a6c[_0x274e26(0xb8)]=_0x468ad1[_0x274e26(0xf4)],_0x297a6c[_0x274e26(0x6b)]=_0x1d1c8a,_0x52c660[_0x274e26(0x7e)](_0x274e26(0xa3)+_0x3a6926+(_0x274e26(0xc2)+'-')+_0xd54c99[_0x274e26(0xc4)],_0x297a6c);}),_0x1b0c79[_0x1f1ed8(0xdc)](0x112b+-0x1d8b+0xd28)[_0x1f1ed8(0xe5)](_0x1d1c8a);};exports[a14_0x5cce0a(0x95)]=update;const show=async(_0x55d398,_0x5c1413)=>{const _0x22f341=a14_0x5cce0a,{id:_0x395eb1}=_0x55d398[_0x22f341(0x104)],_0x20b2d8=await(-0x1*0x1731+-0x23b5+0x3ae6,ShowFromUuidService_1[_0x22f341(0x79)])(_0x395eb1);return _0x5c1413[_0x22f341(0xdc)](0x1*-0x8da+-0x1*-0x4db+0x4c7)[_0x22f341(0xe5)](_0x20b2d8);};exports[a14_0x5cce0a(0x77)]=show;const remove=async(_0x272da2,_0x1d49ff)=>{const _0x358dd3=a14_0x5cce0a,_0x469c04={};_0x469c04[_0x358dd3(0x114)]=_0x358dd3(0x103),_0x469c04[_0x358dd3(0xc1)]=_0x358dd3(0xfb)+'ed';const _0x420487=_0x469c04,{id:_0x995e6c}=_0x272da2[_0x358dd3(0x104)],{companyId:_0x39bcde}=_0x272da2[_0x358dd3(0xcf)];await(0x12b0+0x37a+0xb15*-0x2,DeleteService_1[_0x358dd3(0x79)])(_0x995e6c);const _0x4570a6=(0xe8c+-0x1bf2+0x23*0x62,socket_1[_0x358dd3(0xe4)])(),_0x19938e={};_0x19938e[_0x358dd3(0xb8)]=_0x420487[_0x358dd3(0x114)],_0x19938e['id']=_0x995e6c,_0x4570a6[_0x358dd3(0x7e)](_0x358dd3(0xa3)+_0x39bcde+_0x358dd3(0x96),_0x19938e);const _0xefd30d={};return _0xefd30d[_0x358dd3(0x94)]=_0x420487[_0x358dd3(0xc1)],_0x1d49ff[_0x358dd3(0xdc)](0x1b56*-0x1+-0x9cb+0x25e9)[_0x358dd3(0xe5)](_0xefd30d);};exports[a14_0x5cce0a(0x125)]=remove;const saveMessage=async(_0x31039e,_0x334727)=>{const _0x5646f0=a14_0x5cce0a,_0x27d3ee={};_0x27d3ee[_0x5646f0(0xd8)]=_0x5646f0(0xce),_0x27d3ee[_0x5646f0(0xb5)]=_0x5646f0(0xe0),_0x27d3ee[_0x5646f0(0x7f)]=_0x5646f0(0x6c)+'e';const _0x31f2e9=_0x27d3ee,{companyId:_0x401447}=_0x31039e[_0x5646f0(0xcf)],{message:_0x459582}=_0x31039e[_0x5646f0(0xbc)],{id:_0x1994d1}=_0x31039e[_0x5646f0(0x104)],_0x4d2270=+_0x31039e[_0x5646f0(0xcf)]['id'],_0x3a971c=+_0x1994d1,_0x31f01a=_0x31039e?.[_0x5646f0(0x8c)],_0x178f73=(0x2f*-0x66+-0x49*-0x14+0xd06,lodash_1[_0x5646f0(0x83)])(_0x31f01a),_0x41ea77={};_0x41ea77[_0x5646f0(0xa0)]=_0x3a971c,_0x41ea77[_0x5646f0(0x82)]=_0x4d2270,_0x41ea77[_0x5646f0(0x94)]=_0x459582,_0x41ea77[_0x5646f0(0x78)]=_0x178f73?.[_0x5646f0(0x6d)],_0x41ea77[_0x5646f0(0xba)]=_0x178f73?.[_0x5646f0(0x91)+'me'],_0x41ea77[_0x5646f0(0x10d)]=_0x178f73?.[_0x5646f0(0xbe)];const _0x507fa4=await(-0x71f*0x4+0x1984+0x2f8,CreateMessageService_1[_0x5646f0(0x79)])(_0x41ea77),_0x35b447={};_0x35b447[_0x5646f0(0xf9)]=User_1[_0x5646f0(0x79)],_0x35b447['as']=_0x31f2e9[_0x5646f0(0xd8)];const _0x2bfe81={};_0x2bfe81[_0x5646f0(0xf9)]=ChatUser_1[_0x5646f0(0x79)],_0x2bfe81['as']=_0x31f2e9[_0x5646f0(0xb5)];const _0x1609ee={};_0x1609ee[_0x5646f0(0xfa)]=[_0x35b447,_0x2bfe81];const _0x528b0e=await Chat_1[_0x5646f0(0x79)][_0x5646f0(0x109)](_0x3a971c,_0x1609ee),_0x4592bd=(-0x11*-0x124+-0x1*-0x14e1+-0xd*0x319,socket_1[_0x5646f0(0xe4)])(),_0x5822d7={};_0x5822d7[_0x5646f0(0xb8)]=_0x31f2e9[_0x5646f0(0x7f)],_0x5822d7[_0x5646f0(0x124)]=_0x507fa4,_0x5822d7[_0x5646f0(0xad)]=_0x528b0e,_0x4592bd[_0x5646f0(0x7e)](_0x5646f0(0xa3)+_0x401447+_0x5646f0(0x74)+_0x3a971c,_0x5822d7);const _0x2ebe68={};return _0x2ebe68[_0x5646f0(0xb8)]=_0x31f2e9[_0x5646f0(0x7f)],_0x2ebe68[_0x5646f0(0x124)]=_0x507fa4,_0x2ebe68[_0x5646f0(0xad)]=_0x528b0e,_0x4592bd[_0x5646f0(0x7e)](_0x5646f0(0xa3)+_0x401447+_0x5646f0(0x96),_0x2ebe68),_0x334727[_0x5646f0(0xe5)](_0x507fa4);};exports[a14_0x5cce0a(0xe6)+'e']=saveMessage;const checkAsRead=async(_0x49d0d1,_0x3fc5e0)=>{const _0x3f4f8d=a14_0x5cce0a,_0x33461a={};_0x33461a[_0x3f4f8d(0xfc)]=_0x3f4f8d(0xce),_0x33461a[_0x3f4f8d(0xd3)]=_0x3f4f8d(0xe0),_0x33461a[_0x3f4f8d(0xde)]=_0x3f4f8d(0x95);const _0x526aa5=_0x33461a,{companyId:_0x311f4d}=_0x49d0d1[_0x3f4f8d(0xcf)],{userId:_0x49e0c7}=_0x49d0d1[_0x3f4f8d(0xbc)],{id:_0x1a4f57}=_0x49d0d1[_0x3f4f8d(0x104)],_0x1465f0={};_0x1465f0[_0x3f4f8d(0xa0)]=_0x1a4f57,_0x1465f0[_0x3f4f8d(0xc4)]=_0x49e0c7;const _0x2fc93d={};_0x2fc93d[_0x3f4f8d(0xac)]=_0x1465f0;const _0x494d5f=await ChatUser_1[_0x3f4f8d(0x79)][_0x3f4f8d(0xa6)](_0x2fc93d),_0x132b10={};_0x132b10[_0x3f4f8d(0xa9)]=0x0,await _0x494d5f[_0x3f4f8d(0x95)](_0x132b10);const _0x35a43b={};_0x35a43b[_0x3f4f8d(0xf9)]=User_1[_0x3f4f8d(0x79)],_0x35a43b['as']=_0x526aa5[_0x3f4f8d(0xfc)];const _0x1c543b={};_0x1c543b[_0x3f4f8d(0xf9)]=ChatUser_1[_0x3f4f8d(0x79)],_0x1c543b['as']=_0x526aa5[_0x3f4f8d(0xd3)];const _0x284f81={};_0x284f81[_0x3f4f8d(0xfa)]=[_0x35a43b,_0x1c543b];const _0x151a5b=await Chat_1[_0x3f4f8d(0x79)][_0x3f4f8d(0x109)](_0x1a4f57,_0x284f81),_0x14edb5=(-0x2*-0x1d+-0x15cd+0x1593,socket_1[_0x3f4f8d(0xe4)])(),_0x19472f={};_0x19472f[_0x3f4f8d(0xb8)]=_0x526aa5[_0x3f4f8d(0xde)],_0x19472f[_0x3f4f8d(0xad)]=_0x151a5b,_0x14edb5[_0x3f4f8d(0x7e)](_0x3f4f8d(0xa3)+_0x311f4d+_0x3f4f8d(0x74)+_0x1a4f57,_0x19472f);const _0x441c7f={};return _0x441c7f[_0x3f4f8d(0xb8)]=_0x526aa5[_0x3f4f8d(0xde)],_0x441c7f[_0x3f4f8d(0xad)]=_0x151a5b,_0x14edb5[_0x3f4f8d(0x7e)](_0x3f4f8d(0xa3)+_0x311f4d+_0x3f4f8d(0x96),_0x441c7f),_0x3fc5e0[_0x3f4f8d(0xe5)](_0x151a5b);};exports[a14_0x5cce0a(0x99)+'d']=checkAsRead;const messages=async(_0x5a996b,_0x55a31c)=>{const _0x321c68=a14_0x5cce0a,{pageNumber:_0x2f5b42}=_0x5a996b[_0x321c68(0x112)],{id:_0x42fd5c}=_0x5a996b[_0x321c68(0x104)],_0x2257c8=+_0x5a996b[_0x321c68(0xcf)]['id'],_0x1fbda8={};_0x1fbda8[_0x321c68(0xa0)]=_0x42fd5c,_0x1fbda8[_0x321c68(0x8e)]=_0x2257c8,_0x1fbda8[_0x321c68(0x6e)]=_0x2f5b42;const {records:_0x2f52f8,count:_0x15bac3,hasMore:_0x32a9a5}=await(-0x7b*-0x33+-0x26ee+-0x3*-0x4cf,FindMessages_1[_0x321c68(0x79)])(_0x1fbda8),_0x550a03={};return _0x550a03[_0x321c68(0x120)]=_0x2f52f8,_0x550a03[_0x321c68(0xaf)]=_0x15bac3,_0x550a03[_0x321c68(0x7c)]=_0x32a9a5,_0x55a31c[_0x321c68(0xe5)](_0x550a03);};exports[a14_0x5cce0a(0x97)]=messages;